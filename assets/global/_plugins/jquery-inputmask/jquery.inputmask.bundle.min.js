/*
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 3.0.3
*/
(function(c){if(void 0===c.fn.inputmask){var a=function(a){var e=document.createElement("input");a="on"+a;var c=a in e;c||(e.setAttribute(a,"return;"),c="function"==typeof e[a]);return c},h=function(a,e,b){return(a=b.aliases[a])?(a.alias&&h(a.alias,void 0,b),c.extend(!0,b,a),c.extend(!0,b,e),!0):!1},d=function(a){function e(e){function c(a,b,e,l){this.matches=[];this.isGroup=a||!1;this.isOptional=b||!1;this.isQuantifier=e||!1;this.isAlternator=l||!1;this.quantifier={min:1,max:1}}function b(c,e,l){var d=
a.definitions[e];l=void 0!=l?l:c.matches.length;if(d&&!h){for(var f=d.prevalidator,p=f?f.length:0,g=1;g<d.cardinality;g++){var n=p>=g?f[g-1]:[],k=n.validator,n=n.cardinality;c.matches.splice(l++,0,{fn:k?"string"==typeof k?RegExp(k):new function(){this.test=k}:/./,cardinality:n?n:1,optionality:c.isOptional,casing:d.casing,def:d.definitionSymbol||e})}c.matches.splice(l++,0,{fn:d.validator?"string"==typeof d.validator?RegExp(d.validator):new function(){this.test=d.validator}:/./,cardinality:d.cardinality,
optionality:c.isOptional,casing:d.casing,def:d.definitionSymbol||e})}else c.matches.splice(l++,0,{fn:null,cardinality:0,optionality:c.isOptional,casing:null,def:e}),h=!1}for(var d=/(?:[?*+]|\{[0-9]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,h=!1,f=new c,l,p=[],g=[];l=d.exec(e);)switch(l=l[0],l.charAt(0)){case a.optionalmarker.end:case a.groupmarker.end:var n=p.pop();0<p.length?p[p.length-1].matches.push(n):f.matches.push(n);break;case a.optionalmarker.start:p.push(new c(!1,!0));break;case a.groupmarker.start:p.push(new c(!0));
break;case a.quantifiermarker.start:n=new c(!1,!1,!0);l=l.replace(/[{}]/g,"");var k=l.split(",");l=isNaN(k[0])?k[0]:parseInt(k[0]);k=1==k.length?l:isNaN(k[1])?k[1]:parseInt(k[1]);n.quantifier={min:l,max:k};if("*"==k||"+"==k)a.greedy=!1;if(0<p.length){k=p[p.length-1].matches;l=k.pop();if(!l.isGroup){var r=new c(!0);r.matches.push(l);l=r}k.push(l);k.push(n)}else l=f.matches.pop(),l.isGroup||(r=new c(!0),r.matches.push(l),l=r),f.matches.push(l),f.matches.push(n);break;case a.escapeChar:h=!0;break;case a.alternatormarker:break;
default:0<p.length?b(p[p.length-1],l):(0<f.matches.length&&(n=f.matches[f.matches.length-1],n.isGroup&&(n.isGroup=!1,b(n,a.groupmarker.start,0),b(n,a.groupmarker.end))),b(f,l))}0<f.matches.length&&g.push(f);return g}function b(d,h){a.numericInput&&(d=d.split("").reverse().join(""));if(void 0!=d&&""!=d){if(0<a.repeat||"*"==a.repeat||"+"==a.repeat)d=a.groupmarker.start+d+a.groupmarker.end+a.quantifiermarker.start+("*"==a.repeat?0:"+"==a.repeat?1:a.repeat)+","+a.repeat+a.quantifiermarker.end;void 0==
c.inputmask.masksCache[d]&&(c.inputmask.masksCache[d]={mask:d,maskToken:e(d),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:h});return c.extend(!0,{},c.inputmask.masksCache[d])}}var d=[];c.isFunction(a.mask)&&(a.mask=a.mask.call(this,a));c.isArray(a.mask)?c.each(a.mask,function(a,c){void 0!=c.mask?d.push(b(c.mask.toString(),c)):d.push(b(c.toString()))}):(1==a.mask.length&&!1==a.greedy&&0!=a.repeat&&(a.placeholder=""),d=void 0!=a.mask.mask?b(a.mask.mask.toString(),a.mask):b(a.mask.toString()));
return d},f="function"===typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=(new Function("/*@cc_on return @_jscript_version; @*/"))(),b=navigator.userAgent,g=null!==b.match(/iphone/i),k=null!==b.match(/android.*safari.*/i),m=null!==b.match(/android.*chrome.*/i),x=null!==b.match(/android.*firefox.*/i),O=/Kindle/i.test(b)||/Silk/i.test(b)||/KFTT/i.test(b)||/KFOT/i.test(b)||/KFJWA/i.test(b)||/KFJWI/i.test(b)||/KFSOWI/i.test(b)||/KFTHWA/i.test(b)||/KFTHWI/i.test(b)||/KFAPWA/i.test(b)||/KFAPWI/i.test(b),
P=a("paste")?"paste":a("input")?"input":"propertychange",v=function(a,e,b){function d(q,b,c){b=b||0;var l=[],h,f=0,g;do{if(!0===q&&a.validPositions[f]){var p=a.validPositions[f];g=p.match;h=p.locator.slice();l.push(null==g.fn?g.def:!0===c?p.input:e.placeholder.charAt(f%e.placeholder.length))}else h=M(f,!0,h,f-1),h=h[e.greedy||b>f?0:h.length-1],g=h.match,h=h.locator.slice(),l.push(null==g.fn?g.def:e.placeholder.charAt(f%e.placeholder.length));f++}while((void 0==I||f-1<I)&&null!=g.fn||null==g.fn&&""!=
g.def||b>=f);l.pop();return l}function h(q){var b=a;b.buffer=void 0;b.tests={};!0!==q&&(b._buffer=void 0,b.validPositions={},b.p=-1)}function r(q){var b=a;q=-1;for(var c in b.validPositions)b=parseInt(c),b>q&&(q=b);return q}function S(q,b,d,l){if(e.insertMode&&void 0!=a.validPositions[q]&&void 0==l){l=c.extend(!0,{},a.validPositions);for(var h=F(D());h>q&&0<=h;h--)if(G(h)){var f=F(h),g=a.validPositions[f];void 0!=g&&v(h).def==v(f).def&&void 0==a.validPositions[h]&&!1!==U(h,g.input,d,!0)&&delete a.validPositions[f]}if(void 0==
a.validPositions[q])a.validPositions[q]=b;else return a.validPositions=c.extend(!0,{},l),!1}else a.validPositions[q]=b;return!0}function v(q){return a.validPositions[q]?a.validPositions[q].match:M(q)[0].match}function M(q,b,c,e){function d(a,b,c,e){function l(c,e,u){var B=h;if(h==q&&void 0==c.matches)return f.push({match:c,locator:e.reverse()}),!0;if(void 0!=c.matches)if(c.isGroup&&!0!==u){if(c=l(a.matches[H+1],e))return!0}else if(c.isOptional){var p=c;if(c=d(c,b,e,u))c=f[f.length-1].match,(c=0==
p.matches.indexOf(c))&&(g=!0),h=B}else{if(!c.isAlternator)if(c.isQuantifier&&!0!==u)for(B=c,u=0<b.length&&!0!==u?b.shift():0;u<(isNaN(B.quantifier.max)?u+1:B.quantifier.max)&&h<=q;u++){if(p=a.matches[a.matches.indexOf(B)-1],c=l(p,[u].concat(e),!0))if(c=f[f.length-1].match,u>B.quantifier.min-1&&(c.optionalQuantifier=!0),c=0==p.matches.indexOf(c))if(u>B.quantifier.min-1){g=!0;h=q;break}else return!0;else return!0}else if(c=d(c,b,e,u))return!0}else h++}for(var H=0<b.length?b.shift():0;H<a.matches.length;H++)if(!0!==
a.matches[H].isQuantifier){var u=l(a.matches[H],[H].concat(c),e);if(u&&h==q)return u;if(h>q)break}}var l=a.maskToken,h=c?e:0;e=c||[0];var f=[],g=!1;if(!0!==b&&a.tests[q]&&!a.validPositions[q])return a.tests[q];if(void 0==c){for(b=q-1;void 0==(c=a.validPositions[b])&&-1<b;)b--;if(void 0!=c&&-1<b)h=b,e=c.locator.slice();else{for(b=q-1;void 0==(c=a.tests[b])&&-1<b;)b--;void 0!=c&&-1<b&&(h=b,e=c[0].locator.slice())}}for(b=e.shift();b<l.length&&!(d(l[b],e,[b])&&h==q||h>q);b++);(0==f.length||g&&2>f.length)&&
f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]});return a.tests[q]=f}function y(){void 0==a._buffer&&(a._buffer=d(!1,1));return a._buffer}function l(){void 0==a.buffer&&(a.buffer=d(!0,r(),!0));return a.buffer}function s(a,b){for(var e=l(),d=a;d<b;d++)if(e[d]!=R(d)){var h=M(d,!1)[0];S(d,c.extend({},h,{input:E(e[d],h.match)}),!0)}}function E(a,b){switch(b.casing){case "upper":a=a.toUpperCase();break;case "lower":a=a.toLowerCase()}return a}function U(b,d,f,g){function p(b,
q,d,f){var u=!1;c.each(M(b,!d),function(H,g){for(var B=g.match,p=q?1:0,n="",k=l(),T=B.cardinality;T>p;T--)n+=void 0==a.validPositions[b-(T-1)]?R(b-(T-1)):a.validPositions[b-(T-1)].input;q&&(n+=q);u=null!=B.fn?B.fn.test(n,k,b,d,e):q!=B.def&&q!=e.skipOptionalPartCharacter||""==B.def?!1:{c:B.def,pos:b};if(!1!==u)return p=void 0!=u.c?u.c:q,p=p==e.skipOptionalPartCharacter?B.def:p,n=b,u.refreshFromBuffer?(k=u.refreshFromBuffer,d=!0,n=void 0!=u.pos?u.pos:b,g=M(n,!d)[0],!0===k?(a.validPositions={},s(0,l().length)):
s(k.start,k.end)):!0!==u&&u.pos!=b&&(n=u.pos,s(b,n),g=M(n,!d)[0]),0<H&&h(!0),S(n,c.extend({},g,{input:E(p,B)}),d,f)||(u=!1),!1});return u}f=!0===f;var n=p(b,d,f,g);if(!f&&(e.insertMode||void 0==a.validPositions[A(b)])&&!1===n&&!G(b))for(var k=b+1,r=A(b);k<=r;k++)if(n=p(k,d,f,g),!1!==n){b=k;break}!0===n&&(n={pos:b});return n}function G(a){a=v(a);return null!=a.fn?a.fn:!1}function D(){var b;I=t.prop("maxLength");-1==I&&(I=void 0);if(!1==e.greedy){b=r()+1;for(var c=v(b);null!=c.fn||""!=c.def;)c=v(++b),
!0!==c.optionality&&(c=M(b),c=c[c.length-1].match);b=d(!0,b).length;a.tests={}}else b=l().length;return void 0==I||b<I?b:I}function A(a){var b=D();if(a>=b)return b;for(;++a<b&&!G(a)&&(!0!==e.nojumps||e.nojumpsThreshold>a););return a}function F(a){if(0>=a)return 0;for(;0<--a&&!G(a););return a}function C(a,b,c){a._valueSet(b.join(""));void 0!=c&&w(a,c)}function R(a){var b=v(a);return null==b.fn?b.def:e.placeholder.charAt(a%e.placeholder.length)}function N(b,e,d,l,f){l=void 0!=l?l.slice():ea(b._valueGet()).split("");
h();e&&b._valueSet("");c.each(l,function(l,h){if(!0===f){var g=a.p,g=-1==g?g:F(g),p=-1==g?l:A(g);-1==c.inArray(h,y().slice(g+1,p))&&V.call(b,void 0,!0,h.charCodeAt(0),e,d,l)}else V.call(b,void 0,!0,h.charCodeAt(0),e,d,l),d=d||0<l&&l>a.p})}function $(a){return c.inputmask.escapeRegex.call(this,a)}function ea(a){return a.replace(RegExp("("+$(y().join(""))+")*$"),"")}function W(a){var b=l().slice(),c;for(c=b.length-1;0<=c;c--){var e=v(c);if((e.optionality||e.optionalQuantifier)&&b[c]==R(c))b.pop();else break}C(a,
b)}function fa(a,b){if(!a.data("_inputmask")||!0!==b&&a.hasClass("hasDatepicker"))return a[0]._valueGet();var d=c.map(l(),function(a,b){return G(b)&&U(b,a,!0)?a:null}),d=(z?d.reverse():d).join(""),h=(z?l().reverse():l()).join("");return c.isFunction(e.onUnMask)?e.onUnMask.call(a,h,d,e):d}function J(a){!z||"number"!=typeof a||e.greedy&&""==e.placeholder||(a=l().length-a);return a}function w(a,b,d){a=a.jquery&&0<a.length?a[0]:a;if("number"==typeof b){b=J(b);d=J(d);d="number"==typeof d?d:b;var l=c(a).data("_inputmask")||
{};l.caret={begin:b,end:d};c(a).data("_inputmask",l);c(a).is(":visible")&&(a.scrollLeft=a.scrollWidth,!1==e.insertMode&&b==d&&d++,a.setSelectionRange?(a.selectionStart=b,a.selectionEnd=d):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",d),a.moveStart("character",b),a.select()))}else return l=c(a).data("_inputmask"),!c(a).is(":visible")&&l&&void 0!=l.caret?(b=l.caret.begin,d=l.caret.end):a.setSelectionRange?(b=a.selectionStart,d=a.selectionEnd):document.selection&&document.selection.createRange&&
(a=document.selection.createRange(),b=0-a.duplicate().moveStart("character",-1E5),d=b+a.text.length),b=J(b),d=J(d),{begin:b,end:d}}function Q(a){if(c.isFunction(e.isComplete))return e.isComplete.call(t,a,e);if("*"!=e.repeat){var b=!1,d=F(D());if(r()==d)for(var b=!0,l=0;l<=d;l++){var h=G(l);if(h&&(void 0==a[l]||a[l]==R(l))||!h&&a[l]!=R(l)){b=!1;break}}return b}}function ga(a){a=c._data(a).events;c.each(a,function(a,b){c.each(b,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type){var c=b.handler;
b.handler=function(a){if(this.readOnly||this.disabled)a.preventDefault;else return c.apply(this,arguments)}}})})}function ha(a){function b(a){if(void 0==c.valHooks[a]||!0!=c.valHooks[a].inputmaskpatch){var d=c.valHooks[a]&&c.valHooks[a].get?c.valHooks[a].get:function(a){return a.value},e=c.valHooks[a]&&c.valHooks[a].set?c.valHooks[a].set:function(a,b){a.value=b;return a};c.valHooks[a]={get:function(a){var b=c(a);if(b.data("_inputmask")){if(b.data("_inputmask").opts.autoUnmask)return b.inputmask("unmaskedvalue");
a=d(a);b=(b=b.data("_inputmask").maskset._buffer)?b.join(""):"";return a!=b?a:""}return d(a)},set:function(a,b){var d=c(a),l=e(a,b);d.data("_inputmask")&&d.triggerHandler("setvalue.inputmask");return l},inputmaskpatch:!0}}}var d;Object.getOwnPropertyDescriptor&&(d=Object.getOwnPropertyDescriptor(a,"value"));if(d&&d.get){if(!a._valueGet){var e=d.get,l=d.set;a._valueGet=function(){return z?e.call(this).split("").reverse().join(""):e.call(this)};a._valueSet=function(a){l.call(this,z?a.split("").reverse().join(""):
a)};Object.defineProperty(a,"value",{get:function(){var a=c(this),b=c(this).data("_inputmask"),d=b.maskset;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):e.call(this)!=d._buffer.join("")?e.call(this):""},set:function(a){l.call(this,a);c(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&a.__lookupGetter__("value")?a._valueGet||(e=a.__lookupGetter__("value"),l=a.__lookupSetter__("value"),a._valueGet=function(){return z?e.call(this).split("").reverse().join(""):
e.call(this)},a._valueSet=function(a){l.call(this,z?a.split("").reverse().join(""):a)},a.__defineGetter__("value",function(){var a=c(this),b=c(this).data("_inputmask"),d=b.maskset;return b&&b.opts.autoUnmask?a.inputmask("unmaskedvalue"):e.call(this)!=d._buffer.join("")?e.call(this):""}),a.__defineSetter__("value",function(a){l.call(this,a);c(this).triggerHandler("setvalue.inputmask")})):(a._valueGet||(a._valueGet=function(){return z?this.value.split("").reverse().join(""):this.value},a._valueSet=
function(a){this.value=z?a.split("").reverse().join(""):a}),b(a.type))}function aa(b,c,d){if(e.numericInput||z){switch(c){case e.keyCode.BACKSPACE:c=e.keyCode.DELETE;break;case e.keyCode.DELETE:c=e.keyCode.BACKSPACE}z&&(b=d.end,d.end=d.begin,d.begin=b)}d.begin==d.end?(b=c==e.keyCode.BACKSPACE?d.begin-1:d.begin,e.isNumeric&&""!=e.radixPoint&&l()[b]==e.radixPoint&&(d.begin=l().length-1==b?d.begin:c==e.keyCode.BACKSPACE?b:A(b),d.end=d.begin),c==e.keyCode.BACKSPACE?d.begin=F(d.begin):c==e.keyCode.DELETE&&
d.end++):1!=d.end-d.begin||e.insertMode||c==e.keyCode.BACKSPACE&&d.begin--;b=d.begin;var f=d.end;for(c=A(b-1);b<f;b++)delete a.validPositions[b];b=f;for(f=D();b<f;b++){var g=a.validPositions[b],p=a.validPositions[c];void 0!=g&&void 0==p&&(v(c).def==g.match.def&&!1!==U(c,g.input,!0)&&delete a.validPositions[b],c=A(c))}h(!0);c=A(-1);r()<c?a.p=c:a.p=d.begin}function X(b){Y=!1;var d=this,h=c(d),f=b.keyCode,p=w(d);f==e.keyCode.BACKSPACE||f==e.keyCode.DELETE||g&&127==f||b.ctrlKey&&88==f?(b.preventDefault(),
88==f&&(K=l().join("")),aa(d,f,p),C(d,l(),a.p),d._valueGet()==y().join("")&&h.trigger("cleared"),e.showTooltip&&h.prop("title",a.mask)):f==e.keyCode.END||f==e.keyCode.PAGE_DOWN?setTimeout(function(){var a=A(r());e.insertMode||a!=D()||b.shiftKey||a--;w(d,b.shiftKey?p.begin:a,a)},0):f==e.keyCode.HOME&&!b.shiftKey||f==e.keyCode.PAGE_UP?w(d,0,b.shiftKey?p.begin:0):f==e.keyCode.ESCAPE||90==f&&b.ctrlKey?(N(d,!0,!1,K.split("")),h.click()):f!=e.keyCode.INSERT||b.shiftKey||b.ctrlKey?!1!=e.insertMode||b.shiftKey||
(f==e.keyCode.RIGHT?setTimeout(function(){var a=w(d);w(d,a.begin)},0):f==e.keyCode.LEFT&&setTimeout(function(){var a=w(d);w(d,a.begin-1)},0)):(e.insertMode=!e.insertMode,w(d,e.insertMode||p.begin!=D()?p.begin:p.begin-1));var h=w(d),n=e.onKeyDown.call(this,b,l(),e);n&&!0===n.refreshFromBuffer&&(a.validPositions={},s(0,l().length),w(d,h.begin,h.end));ba=-1!=c.inArray(f,e.ignorables)}function V(b,d,f,g,p,n){if